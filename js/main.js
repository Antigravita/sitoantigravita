const menuToggle=document.querySelector('.menu-toggle');const navMenu=document.querySelector('.nav-menu');menuToggle.addEventListener('click',()=>{menuToggle.classList.toggle('active');navMenu.classList.toggle('active');});window.addEventListener('scroll',()=>{const header=document.querySelector('.header');if(window.scrollY>50){header.classList.add('scrolled');}else{header.classList.remove('scrolled');}});const initSlideshow=()=>{const slides=document.querySelectorAll('.slide');const prevButton=document.querySelector('.prev');const nextButton=document.querySelector('.next');let slideIndex=0;if(slides.length===0)return;function showSlide(n){slideIndex=n;if(slideIndex>=slides.length)slideIndex=0;if(slideIndex<0)slideIndex=slides.length-1;slides.forEach(slide=>slide.style.display='none');slides[slideIndex].style.display='block';}
function nextSlide(){showSlide(slideIndex+1);}
function prevSlide(){showSlide(slideIndex-1);}
if(prevButton&&nextButton){prevButton.addEventListener('click',prevSlide);nextButton.addEventListener('click',nextSlide);}
showSlide(0);setInterval(nextSlide,5000);};const initImageModal=()=>{const modal=document.getElementById('imageModal');const modalImg=document.getElementById('modalImage');const closeBtn=modal?.querySelector('.close');if(!modal||!modalImg)return;window.openImageModal=(src)=>{modal.style.display='block';modalImg.src=src;setTimeout(()=>{modal.classList.add('show');},10);};const closeModal=()=>{modal.classList.remove('show');setTimeout(()=>{modal.style.display='none';},300);};if(closeBtn){closeBtn.addEventListener('click',closeModal);}
modal.addEventListener('click',(e)=>{if(e.target===modal){closeModal();}});document.addEventListener('keydown',(e)=>{if(e.key==='Escape'&&modal.style.display==='block'){closeModal();}});};const initSmoothScroll=()=>{document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const targetId=this.getAttribute('href');const targetSection=document.querySelector(targetId);if(targetSection){targetSection.scrollIntoView({behavior:'smooth'});menuToggle.classList.remove('active');navMenu.classList.remove('active');}});});};const initFaq=()=>{const questions=document.querySelectorAll('.faq-question');questions.forEach(question=>{question.addEventListener('click',()=>{const answer=question.nextElementSibling;question.classList.toggle('active');if(question.classList.contains('active')){answer.style.maxHeight=answer.scrollHeight+"px";}else{answer.style.maxHeight=0;}
questions.forEach(q=>{if(q!==question&&q.classList.contains('active')){q.classList.remove('active');q.nextElementSibling.style.maxHeight=0;}});});});};window.loadMap=(element)=>{const src=element.getAttribute('data-src');const title=element.getAttribute('data-title');const iframe=document.createElement('iframe');iframe.src=src;iframe.width="100%";iframe.height="100%";iframe.style.border="0";iframe.allowFullscreen="";iframe.loading="lazy";iframe.referrerPolicy="no-referrer-when-downgrade";iframe.title=title||"Google Maps";const parent=element.parentNode;element.style.opacity='0';setTimeout(()=>{parent.innerHTML='';parent.appendChild(iframe);},300);};document.addEventListener('DOMContentLoaded',()=>{initImageModal();initSmoothScroll();initFaq();});